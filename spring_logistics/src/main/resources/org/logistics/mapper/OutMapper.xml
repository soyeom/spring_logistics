<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.logistics.mapper.OutboundMapper">

    <insert id="insertOutMaster" parameterType="org.logistics.domain.OutboundRequestDTO" useGeneratedKeys="true" keyProperty="outId">
        INSERT INTO out_master (
            bu_id, out_date, local_flag, party_id, contact_id, department, out_type,
            consignment_gubun, out_complete, created_at
        ) VALUES (
            #{buId}, #{outDate}, #{localFlag}, #{partyId}, #{contactId}, #{department}, #{outType},
            #{consignmentGubun}, #{outComplete}, SYSDATE
        )
    </insert>

    <insert id="insertOutDetail" parameterType="org.logistics.domain.OutDetailDTO">
        INSERT INTO out_detail (
            bu_id, out_id, item_id, party_id, warehouse_id, qty, unit_price, amount,
            special_note, lot_no, other_out_code, is_charge_supply, asset_class,
            asset_proc_type, currency_code, exchange_rate, created_at
        ) VALUES (
            #{buId}, #{outId}, #{itemId}, #{partyId}, #{warehouseId}, #{qty}, #{unitPrice}, #{amount},
            #{specialNote}, #{lotNo}, #{otherOutCode}, #{isChargeSupply}, #{assetClass},
            #{assetProcType}, #{currencyCode}, #{exchangeRate}, SYSDATE
        )
    </insert>

</mapper>