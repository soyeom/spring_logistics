<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="org.logistics.mapper.PopupMapper">

	<select id="item_List" resultType="org.logistics.domain.PopupVO">

		select item_Id as column1, spec as column2, item_name as column3
		, asset_class as column4
		, small_category as column5
		, base_unit as column6
		, sales_unit as column7
		, english_name as column8
		from item_master

		<where>
			<if test="gubun == 10">
				item_Id like '%' || #{text} || '%'
			</if>
			<if test="gubun == 20">
				item_name like '%' || #{text} || '%'
			</if>
		</where>

	</select>

	<select id="contact_List"
		resultType="org.logistics.domain.PopupVO">

		select contact_id as column1
		, contact_name column2
		, department as column3
		, phone as column4
		, mobile as column5
		, email as column6
		from contact
		<where>
			<if test="gubun == 10">
				contact_id like '%' || #{text} || '%'
			</if>
			<if test="gubun == 20">
				contact_name like '%' || #{text} || '%'
			</if>
		</where>

	</select>

	<!-- 창고 팝업 -->
	<select id="warehouse_List"
		resultType="org.logistics.domain.WareHouseVO">
		select wd.warehouse_id as warehouseId
		, wd.warehouse_name as warehouseName
		, bu.bu_name as buName
		, wm.warehouse_internal_code as warehouseInternalCode
		, bu.bu_id as buId
		, wm.warehouse_master_id as warehouseMasterId
		from warehouse_detail wd
		join business_unit bu
		on wd.bu_id = bu.bu_id
		join warehouse_master wm
		on wd.warehouse_master_id = wm.warehouse_master_id
		and wd.bu_id = wm.bu_id
		<where>
			<if test="gubun == '10'">
				cast(wd.warehouse_id as varchar(50)) like '%' || #{text} || '%'
			</if>
			<if test="gubun == '20'">
				wd.warehouse_name like '%' || #{text} || '%'
			</if>
		</where>
	</select>


</mapper>