<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="org.logistics.mapper.OtherTxnCategoryMapper">

  <!-- ========================================================= -->
  <!-- ğŸ—‚ï¸ OtherTxnCategoryMapper.xml                              -->
  <!-- ê¸°íƒ€ ì…ì¶œê³  êµ¬ë¶„ ê´€ë¦¬ SQL ë§¤í•‘ íŒŒì¼                        -->
  <!-- ãã®ä»–å…¥å‡ºåº«åŒºåˆ†ç®¡ç† SQLãƒãƒƒãƒ”ãƒ³ã‚°ãƒ•ã‚¡ã‚¤ãƒ«                 -->
  <!-- ========================================================= -->


  <!-- ================== ğŸ” ì¡°íšŒ ================== -->
  <!-- âœ… åŒºåˆ†ä¸€è¦§ç…§ä¼šSQL / êµ¬ë¶„ ëª©ë¡ ì¡°íšŒ -->
  <!-- ê±°ë˜ìœ í˜•(txn_type)ì— ë”°ë¼ ê¸°íƒ€ ì…ì¶œê³  êµ¬ë¶„ ë°ì´í„°ë¥¼ ì¡°íšŒ -->
  <!-- å…¥å‡ºåº«ã‚¿ã‚¤ãƒ—(txn_type)ã”ã¨ã®åŒºåˆ†ãƒã‚¹ã‚¿ä¸€è¦§ã‚’å–å¾—ã™ã‚‹ -->
  <select id="getList" parameterType="string" resultType="org.logistics.domain.OtherTxnCategory">
    SELECT
        TXN_CODE          AS txnCode,            -- ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ / ê±°ë˜ì½”ë“œ
        BU_ID             AS buId,               -- äº‹æ¥­éƒ¨ID / ì‚¬ì—…ë¶€ID
        TXN_TYPE          AS txnType,            -- åŒºåˆ†ã‚¿ã‚¤ãƒ— / êµ¬ë¶„ìœ í˜•
        CATEGORY_NAME     AS categoryName,       -- åŒºåˆ†å / êµ¬ë¶„ëª…
        SORT_ORDER        AS sortOrder,          -- è¡¨ç¤ºé † / ì •ë ¬ìˆœì„œ
        USE_YN            AS useYn,              -- ä½¿ç”¨å¯å¦ / ì‚¬ìš©ì—¬ë¶€
        ACCOUNT_SUBJECT   AS accountSubject,     -- å‹˜å®šç§‘ç›® / íšŒê³„ê³¼ëª©
        COST_TYPE         AS costType,           -- è²»ç”¨åŒºåˆ† / ë¹„ìš©êµ¬ë¶„
        IS_FINISHED_PRODUCT AS isFinishedProduct,-- è£½å“ãƒ•ãƒ©ã‚° / ì™„ì œí’ˆì—¬ë¶€
        IS_MATERIAL       AS isMaterial,         -- åŸææ–™ãƒ•ãƒ©ã‚° / ì›ìì¬ì—¬ë¶€
        IS_SALES_USE      AS isSalesUse,         -- è²©å£²ç”¨é€” / íŒë§¤ìš©ì—¬ë¶€
        ADJUST_OUT        AS adjustOut,          -- èª¿æ•´å‡ºåº« / ì¡°ì •ì¶œê³ 
        ADJUST_IN         AS adjustIn,           -- èª¿æ•´å…¥åº« / ì¡°ì •ì…ê³ 
        IS_VAT_TARGET     AS isVatTarget,        -- æ¶ˆè²»ç¨å¯¾è±¡ / ë¶€ê°€ì„¸ëŒ€ìƒ
        VAT_PROCESS_TYPE  AS vatProcessType,     -- ç¨å‡¦ç†ã‚¿ã‚¤ãƒ— / ì„¸ê¸ˆì²˜ë¦¬ìœ í˜•
        IS_AS             AS isAs,               -- A/Så¯¾è±¡ / ASëŒ€ìƒì—¬ë¶€
        IS_ITEM_JOURNAL   AS isItemJournal,      -- å“ç›®ä»•è¨³ / í’ˆëª©ì „í‘œì—¬ë¶€
        IS_BYPRODUCT_IN   AS isByproductIn,      -- å‰¯ç”£ç‰©å…¥åº« / ë¶€ì‚°ë¬¼ì…ê³ 
        IS_RETURN_IN      AS isReturnIn,         -- è¿”å“å…¥åº« / ë°˜í’ˆì…ê³ 
        IS_MOVE           AS isMove,             -- ç§»å‹•ãƒ•ãƒ©ã‚° / ì´ë™ì—¬ë¶€
        IS_TRANSFER       AS isTransfer,         -- æŒ¯æ›¿ãƒ•ãƒ©ã‚° / ì „í™˜ì—¬ë¶€
        IS_AS_OUT         AS isAsOut,            -- A/Så‡ºåº« / ASì¶œê³ 
        IS_AS_RETURN      AS isAsReturn,         -- A/Sè¿”å“ / ASë°˜í’ˆ
        IS_FREE_SUPPLY    AS isFreeSupply,       -- ç„¡å„Ÿæ”¯çµ¦ / ë¬´ìƒì§€ê¸‰
        IS_DISPATCH_TARGET AS isDispatchTarget,  -- é…é€å¯¾è±¡ / ì¶œí•˜ëŒ€ìƒ
        DESCRIPTION       AS description,        -- å‚™è€ƒ / ë¹„ê³ 
        CREATED_AT        AS createdAt           -- ç™»éŒ²æ—¥æ™‚ / ë“±ë¡ì¼ì‹œ
    FROM other_txn_category
    WHERE txn_type = #{txnType}
    ORDER BY sort_order
  </select>


  <!-- ================== ğŸ“ ë“±ë¡ ================== -->
  <!-- âœ… åŒºåˆ†ãƒã‚¹ã‚¿æ–°è¦ç™»éŒ²SQL / êµ¬ë¶„ ë§ˆìŠ¤í„° ì‹ ê·œ ë“±ë¡ -->
  <!-- ì‹ ê·œ ê¸°íƒ€ ì…ì¶œê³  êµ¬ë¶„ ë°ì´í„°ë¥¼ ì¶”ê°€ -->
  <!-- æ–°ã—ã„å…¥å‡ºåº«åŒºåˆ†ãƒã‚¹ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ç™»éŒ²ã™ã‚‹ -->
  <insert id="insert" parameterType="org.logistics.domain.OtherTxnCategory">
    INSERT INTO other_txn_category
    (
      txn_code, bu_id, txn_type, category_name, sort_order, use_yn,
      account_subject, cost_type, is_finished_product, is_material,
      is_sales_use, adjust_out, adjust_in, is_vat_target, vat_process_type,
      is_as, is_item_journal, is_byproduct_in, is_return_in,
      is_move, is_transfer, is_as_out, is_as_return,
      is_free_supply, is_dispatch_target, description, created_at
    )
    VALUES
    (
      #{txnCode}, #{buId}, #{txnType}, #{categoryName}, #{sortOrder}, #{useYn, jdbcType=VARCHAR},
      #{accountSubject, jdbcType=VARCHAR}, #{costType, jdbcType=VARCHAR},
      #{isFinishedProduct, jdbcType=VARCHAR}, #{isMaterial, jdbcType=VARCHAR},
      #{isSalesUse, jdbcType=VARCHAR}, #{adjustOut, jdbcType=VARCHAR}, #{adjustIn, jdbcType=VARCHAR},
      #{isVatTarget, jdbcType=VARCHAR}, #{vatProcessType, jdbcType=VARCHAR},
      #{isAs, jdbcType=VARCHAR}, #{isItemJournal, jdbcType=VARCHAR},
      #{isByproductIn, jdbcType=VARCHAR}, #{isReturnIn, jdbcType=VARCHAR},
      #{isMove, jdbcType=VARCHAR}, #{isTransfer, jdbcType=VARCHAR},
      #{isAsOut, jdbcType=VARCHAR}, #{isAsReturn, jdbcType=VARCHAR},
      #{isFreeSupply, jdbcType=VARCHAR}, #{isDispatchTarget, jdbcType=VARCHAR},
      #{description, jdbcType=VARCHAR},
      SYSDATE
    )
  </insert>


  <!-- ================== âœï¸ ìˆ˜ì • ================== -->
  <!-- âœ… åŒºåˆ†ãƒã‚¹ã‚¿æ›´æ–°SQL / êµ¬ë¶„ ë§ˆìŠ¤í„° ìˆ˜ì • -->
  <!-- ê¸°ì¡´ ë“±ë¡ëœ ì…ì¶œê³  êµ¬ë¶„ ì •ë³´ë¥¼ ìˆ˜ì • -->
  <!-- æ—¢å­˜ã®å…¥å‡ºåº«åŒºåˆ†ãƒã‚¹ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã™ã‚‹ -->
  <update id="update" parameterType="org.logistics.domain.OtherTxnCategory">
    UPDATE other_txn_category
    SET category_name       = #{categoryName, jdbcType=VARCHAR},   -- åŒºåˆ†å / êµ¬ë¶„ëª…
        sort_order          = #{sortOrder},                        -- è¡¨ç¤ºé † / í‘œì‹œìˆœì„œ
        use_yn              = #{useYn, jdbcType=VARCHAR},          -- ä½¿ç”¨å¯å¦ / ì‚¬ìš©ì—¬ë¶€
        account_subject     = #{accountSubject, jdbcType=VARCHAR}, -- å‹˜å®šç§‘ç›® / íšŒê³„ê³¼ëª©
        cost_type           = #{costType, jdbcType=VARCHAR},       -- è²»ç”¨åŒºåˆ† / ë¹„ìš©êµ¬ë¶„
        is_finished_product = #{isFinishedProduct, jdbcType=VARCHAR}, -- è£½å“åŒºåˆ† / ì™„ì œí’ˆì—¬ë¶€
        is_material         = #{isMaterial, jdbcType=VARCHAR},     -- åŸææ–™åŒºåˆ† / ì›ìì¬ì—¬ë¶€
        is_sales_use        = #{isSalesUse, jdbcType=VARCHAR},     -- è²©å£²ç”¨é€” / íŒë§¤ìš©ì—¬ë¶€
        adjust_out          = #{adjustOut, jdbcType=VARCHAR},      -- èª¿æ•´å‡ºåº« / ì¡°ì •ì¶œê³ 
        adjust_in           = #{adjustIn, jdbcType=VARCHAR},       -- èª¿æ•´å…¥åº« / ì¡°ì •ì…ê³ 
        is_vat_target       = #{isVatTarget, jdbcType=VARCHAR},    -- æ¶ˆè²»ç¨å¯¾è±¡ / ë¶€ê°€ì„¸ëŒ€ìƒ
        vat_process_type    = #{vatProcessType, jdbcType=VARCHAR}, -- ç¨å‡¦ç†ã‚¿ã‚¤ãƒ— / ì„¸ê¸ˆì²˜ë¦¬ìœ í˜•
        is_as               = #{isAs, jdbcType=VARCHAR},           -- A/Så¯¾è±¡ / ASëŒ€ìƒì—¬ë¶€
        is_item_journal     = #{isItemJournal, jdbcType=VARCHAR},  -- å“ç›®ä»•è¨³ / í’ˆëª©ì „í‘œì—¬ë¶€
        is_byproduct_in     = #{isByproductIn, jdbcType=VARCHAR},  -- å‰¯ç”£ç‰©å…¥åº« / ë¶€ì‚°ë¬¼ì…ê³ 
        is_return_in        = #{isReturnIn, jdbcType=VARCHAR},     -- è¿”å“å…¥åº« / ë°˜í’ˆì…ê³ 
        is_move             = #{isMove, jdbcType=VARCHAR},         -- ç§»å‹•å‡ºåº« / ì´ë™ì¶œê³ 
        is_transfer         = #{isTransfer, jdbcType=VARCHAR},     -- æŒ¯æ›¿å‡ºåº« / ì „í™˜ì¶œê³ 
        is_as_out           = #{isAsOut, jdbcType=VARCHAR},        -- A/Så‡ºåº« / ASì¶œê³ 
        is_as_return        = #{isAsReturn, jdbcType=VARCHAR},     -- A/Sè¿”å“ / ASë°˜í’ˆ
        is_free_supply      = #{isFreeSupply, jdbcType=VARCHAR},   -- ç„¡å„Ÿæ”¯çµ¦ / ë¬´ìƒì§€ê¸‰
        is_dispatch_target  = #{isDispatchTarget, jdbcType=VARCHAR}, -- é…é€å¯¾è±¡ / ì¶œí•˜ëŒ€ìƒ
        description         = #{description, jdbcType=VARCHAR}     -- å‚™è€ƒ / ë¹„ê³ 
    WHERE txn_code = #{txnCode}
      AND bu_id    = #{buId}
  </update>


  <!-- ================== ğŸ—‘ï¸ ì‚­ì œ ================== -->
  <!-- âœ… åŒºåˆ†ãƒã‚¹ã‚¿å‰Šé™¤SQL / êµ¬ë¶„ ë§ˆìŠ¤í„° ì‚­ì œ -->
  <!-- ê±°ë˜ì½”ë“œ(txn_code)ì™€ ì‚¬ì—…ë¶€ID(bu_id)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë°ì´í„° ì‚­ì œ -->
  <!-- ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã¨äº‹æ¥­éƒ¨IDã‚’æ¡ä»¶ã«å‰Šé™¤ã™ã‚‹ -->
  <delete id="delete" parameterType="map">
    DELETE FROM other_txn_category
    WHERE txn_code = #{txnCode}
      AND bu_id = #{buId}
  </delete>

</mapper>
