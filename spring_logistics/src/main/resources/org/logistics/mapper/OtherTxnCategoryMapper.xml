<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="org.logistics.mapper.OtherTxnCategoryMapper">

  <!-- ========================================================= -->
  <!-- ğŸ—‚ï¸ OtherTxnCategoryMapper.xml -->
  <!-- ãã®ä»–å…¥å‡ºåº«åŒºåˆ†ç®¡ç† SQLãƒãƒƒãƒ”ãƒ³ã‚°ãƒ•ã‚¡ã‚¤ãƒ« -->
  <!-- (ê¸°íƒ€ ì…ì¶œê³  êµ¬ë¶„ ê´€ë¦¬ SQL ë§¤í•‘ íŒŒì¼) -->
  <!-- ========================================================= -->


  <!-- ================== ğŸ” ì¡°íšŒ ================== -->
  <!-- âœ… åŒºåˆ†ä¸€è¦§ç…§ä¼šSQL / êµ¬ë¶„ ëª©ë¡ ì¡°íšŒ -->
  <select id="getList" parameterType="string" resultType="org.logistics.model.OtherTxnCategory">
    SELECT
        TXN_CODE          AS txnCode,            -- ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ / ê±°ë˜ì½”ë“œ
        BU_ID             AS buId,               -- äº‹æ¥­éƒ¨ID / ì‚¬ì—…ë¶€ID
        TXN_TYPE          AS txnType,            -- åŒºåˆ†ã‚¿ã‚¤ãƒ— / êµ¬ë¶„ìœ í˜•
        CATEGORY_NAME     AS categoryName,       -- åŒºåˆ†å / êµ¬ë¶„ëª…
        SORT_ORDER        AS sortOrder,          -- è¡¨ç¤ºé † / ì •ë ¬ìˆœì„œ
        USE_YN            AS useYn,              -- ä½¿ç”¨å¯å¦ / ì‚¬ìš©ì—¬ë¶€
        ACCOUNT_SUBJECT   AS accountSubject,     -- å‹˜å®šç§‘ç›® / íšŒê³„ê³¼ëª©
        COST_TYPE         AS costType,           -- è²»ç”¨åŒºåˆ† / ë¹„ìš©êµ¬ë¶„
        IS_FINISHED_PRODUCT AS isFinishedProduct,-- è£½å“ãƒ•ãƒ©ã‚° / ì™„ì œí’ˆì—¬ë¶€
        IS_MATERIAL       AS isMaterial,         -- åŸææ–™ãƒ•ãƒ©ã‚° / ì›ìì¬ì—¬ë¶€
        IS_SALES_USE      AS isSalesUse,         -- è²©å£²ç”¨é€” / íŒë§¤ìš©ì—¬ë¶€
        ADJUST_OUT        AS adjustOut,          -- èª¿æ•´å‡ºåº« / ì¡°ì •ì¶œê³ 
        ADJUST_IN         AS adjustIn,           -- èª¿æ•´å…¥åº« / ì¡°ì •ì…ê³ 
        IS_VAT_TARGET     AS isVatTarget,        -- æ¶ˆè²»ç¨å¯¾è±¡ / ë¶€ê°€ì„¸ëŒ€ìƒ
        VAT_PROCESS_TYPE  AS vatProcessType,     -- ç¨å‡¦ç†ã‚¿ã‚¤ãƒ— / ì„¸ê¸ˆì²˜ë¦¬ìœ í˜•
        IS_AS             AS isAs,               -- A/Så¯¾è±¡ / ASëŒ€ìƒì—¬ë¶€
        IS_ITEM_JOURNAL   AS isItemJournal,      -- å“ç›®ä»•è¨³ / í’ˆëª©ì „í‘œì—¬ë¶€
        IS_BYPRODUCT_IN   AS isByproductIn,      -- å‰¯ç”£ç‰©å…¥åº« / ë¶€ì‚°ë¬¼ì…ê³ 
        IS_RETURN_IN      AS isReturnIn,         -- è¿”å“å…¥åº« / ë°˜í’ˆì…ê³ 
        IS_MOVE           AS isMove,             -- ç§»å‹•ãƒ•ãƒ©ã‚° / ì´ë™ì—¬ë¶€
        IS_TRANSFER       AS isTransfer,         -- æŒ¯æ›¿ãƒ•ãƒ©ã‚° / ì „í™˜ì—¬ë¶€
        IS_AS_OUT         AS isAsOut,            -- A/Så‡ºåº« / ASì¶œê³ 
        IS_AS_RETURN      AS isAsReturn,         -- A/Sè¿”å“ / ASë°˜í’ˆ
        IS_FREE_SUPPLY    AS isFreeSupply,       -- ç„¡å„Ÿæ”¯çµ¦ / ë¬´ìƒì§€ê¸‰
        IS_DISPATCH_TARGET AS isDispatchTarget,  -- é…é€å¯¾è±¡ / ì¶œí•˜ëŒ€ìƒ
        DESCRIPTION       AS description,        -- å‚™è€ƒ / ë¹„ê³ 
        CREATED_AT        AS createdAt           -- ç™»éŒ²æ—¥æ™‚ / ë“±ë¡ì¼ì‹œ
    FROM other_txn_category
    WHERE txn_type = #{txnType}
    ORDER BY sort_order
  </select>


  <!-- ================== ğŸ“ ë“±ë¡ ================== -->
  <!-- âœ… åŒºåˆ†ãƒã‚¹ã‚¿æ–°è¦ç™»éŒ²SQL / êµ¬ë¶„ ë§ˆìŠ¤í„° ì‹ ê·œ ë“±ë¡ -->
  <insert id="insert" parameterType="org.logistics.model.OtherTxnCategory">
    INSERT INTO other_txn_category
    (
      txn_code, bu_id, txn_type, category_name, sort_order, use_yn,
      account_subject, cost_type, is_finished_product, is_material,
      is_sales_use, adjust_out, adjust_in, is_vat_target, vat_process_type,
      is_as, is_item_journal, is_byproduct_in, is_return_in,
      is_move, is_transfer, is_as_out, is_as_return,
      is_free_supply, is_dispatch_target, description, created_at
    )
    VALUES
    (
      #{txnCode}, #{buId}, #{txnType}, #{categoryName}, #{sortOrder}, #{useYn},
      #{accountSubject}, #{costType}, #{isFinishedProduct}, #{isMaterial},
      #{isSalesUse}, #{adjustOut}, #{adjustIn}, #{isVatTarget}, #{vatProcessType},
      #{isAs}, #{isItemJournal}, #{isByproductIn}, #{isReturnIn},
      #{isMove}, #{isTransfer}, #{isAsOut}, #{isAsReturn},
      #{isFreeSupply}, #{isDispatchTarget}, #{description}, SYSDATE
    )
  </insert>


  <!-- ================== âœï¸ ìˆ˜ì • ================== -->
  <!-- âœ… åŒºåˆ†ãƒã‚¹ã‚¿æ›´æ–°SQL / êµ¬ë¶„ ë§ˆìŠ¤í„° ìˆ˜ì • -->
  <update id="update" parameterType="org.logistics.model.OtherTxnCategory">
    UPDATE other_txn_category
    SET category_name       = #{categoryName},
        sort_order          = #{sortOrder},
        use_yn              = #{useYn},
        account_subject     = #{accountSubject},
        cost_type           = #{costType},
        is_finished_product = #{isFinishedProduct},
        is_material         = #{isMaterial},
        is_sales_use        = #{isSalesUse},
        adjust_out          = #{adjustOut},
        adjust_in           = #{adjustIn},
        is_vat_target       = #{isVatTarget},
        vat_process_type    = #{vatProcessType},
        is_as               = #{isAs},
        is_item_journal     = #{isItemJournal},
        is_byproduct_in     = #{isByproductIn},
        is_return_in        = #{isReturnIn},
        is_move             = #{isMove},
        is_transfer         = #{isTransfer},
        is_as_out           = #{isAsOut},
        is_as_return        = #{isAsReturn},
        is_free_supply      = #{isFreeSupply},
        is_dispatch_target  = #{isDispatchTarget},
        description         = #{description}
    WHERE txn_code = #{txnCode}
      AND bu_id    = #{buId}
  </update>


  <!-- ================== ğŸ—‘ï¸ ì‚­ì œ ================== -->
  <!-- âœ… åŒºåˆ†ãƒã‚¹ã‚¿å‰Šé™¤SQL / êµ¬ë¶„ ë§ˆìŠ¤í„° ì‚­ì œ -->
  <delete id="delete" parameterType="map">
    DELETE FROM other_txn_category
    WHERE txn_code = #{txnCode}
      AND bu_id = #{buId}
  </delete>

</mapper>
